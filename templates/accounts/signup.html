{% extends "base.html" %}

{% block title %}Create Account - Brews & Chews{% endblock %}

{% block main_class %}auth-main{% endblock %}

{% block content %}
<section aria-labelledby="signup-title" class="auth-card">
    <h1 id="signup-title" class="hero-heading auth-title">Create your Brews &amp; Chews account</h1>
    <p class="auth-note" role="note">
        Your credentials are protected with Argon2 hashing and encrypted sessions for maximum security.
    </p>

    <form action="#" method="post" class="auth-form" novalidate data-signup-form>
        {% csrf_token %}
        <div class="auth-field">
            <label for="su-username" class="auth-label">Username</label>
            <input id="su-username" name="username" type="text" autocomplete="username" required placeholder="Choose a username" class="auth-input">
            <p class="auth-error" role="alert" data-field-error="username" hidden></p>
        </div>

        <div class="auth-field">
            <label for="su-email" class="auth-label">Email</label>
            <input id="su-email" name="email" type="email" autocomplete="email" required placeholder="Enter your email" class="auth-input">
            <p class="auth-error" role="alert" data-field-error="email" hidden></p>
        </div>

        <div class="auth-field">
            <label for="su-password" class="auth-label">Password</label>
            <input id="su-password" name="password" type="password" autocomplete="new-password" required placeholder="Create a password" class="auth-input" aria-describedby="password-help">
            <div class="password-guidance" id="password-help">
                <div class="password-strength" aria-live="polite">
                    <div class="password-strength-meter" aria-hidden="true">
                        <span class="password-strength-bar" data-strength-bar></span>
                    </div>
                    <p class="password-strength-label" data-strength-label>Strength: Too weak</p>
                </div>
                <ul class="password-requirements" aria-label="Password requirements">
                    <li data-requirement="length" data-valid="false">At least 8 characters long</li>
                    <li data-requirement="uppercase" data-valid="false">Contains an uppercase letter</li>
                    <li data-requirement="number" data-valid="false">Includes a number</li>
                    <li data-requirement="special" data-valid="false">Includes a special character (!@#$%^&amp;*)</li>
                </ul>
            </div>
            <p class="auth-error" role="alert" data-field-error="password" hidden></p>
        </div>

        <div class="auth-field">
            <label for="su-confirm" class="auth-label">Confirm Password</label>
            <input id="su-confirm" name="confirm_password" type="password" autocomplete="new-password" required placeholder="Re-enter your password" class="auth-input">
            <p class="auth-error" role="alert" data-field-error="confirm" hidden></p>
        </div>

        <button type="submit" class="btn" style="width: 100%;">Create Account</button>
    </form>

    <p class="auth-alt">
        <em>Already have an account?</em> <a href="{% url 'accounts:login' %}" class="links">Sign In</a>
    </p>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth.js' %}" defer></script>
{% endblock %}
