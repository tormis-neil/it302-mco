{# 
============================================================
SHOPPING CART PAGE
============================================================
Preview UI for cart functionality (not yet live).
Shows sample items in cart format with totals.

Features:
- Cart items table with quantity, price, line totals
- Order summary with subtotal, tax, total
- Disabled controls (preview mode)
- Empty state with "Back to menu" link

Status: Preview only - not functional yet
Coming Soon: Add/remove items, update quantities, checkout

Related:
- View: orders/views.py → cart()
- CSS: static/css/dashboard.css
- URL: /orders/cart/
#}

{% extends "base.html" %}
{% load static %}

{% block title %}Your Cart - Brews &amp; Chews{% endblock %}

{# Load dashboard-specific styles #}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{# Use dashboard layout wrapper #}
{% block main_class %}dashboard-main{% endblock %}

{% block content %}

{# ========================================
    HERO SECTION
    Cart overview header
======================================== #}
<section class="dashboard-hero">
    <div>
        <p class="dashboard-eyebrow">Cart Overview</p>
        <h1 class="dashboard-title">Review your selections</h1>
        
        {# Status message explaining this is preview mode #}
        <p class="dashboard-subtitle">This interactive cart is in preview mode. Controls are disabled while we wire up live ordering.</p>
    </div>
    
    {# Back to menu link #}
    <a href="{% url 'menu:catalog' %}" class="btn dashboard-cta">Back to menu</a>
</section>

{# ========================================
    CART CONTENTS
    Display if cart has items
======================================== #}
{% if sample_items %}

{# Cart items section #}
<section class="dashboard-section cart-section" aria-labelledby="cart-items">
    <h2 id="cart-items" class="dashboard-section__title">Items in your cart</h2>
    
    {# Preview mode notice #}
    <p class="cart-preview-note">Quantities and controls are illustrative only.</p>
    
    {# ========================================
        CART TABLE
        Displays items in table format
    ======================================== #}
    <div class="cart-table" role="table">
        
        {# Table header (hidden on mobile) #}
        <div class="cart-table__header" role="row">
            <span class="cart-table__cell" role="columnheader">Item</span>
            <span class="cart-table__cell" role="columnheader">Price</span>
            <span class="cart-table__cell" role="columnheader">Quantity</span>
            <span class="cart-table__cell" role="columnheader">Line Total</span>
            <span class="cart-table__cell" role="columnheader">Actions</span>
        </div>
        
        {# Loop through cart items #}
        {% for entry in sample_items %}
        <div class="cart-table__row" role="row">
            
            {# Item name and category #}
            <span class="cart-table__cell cart-table__item" role="cell" data-label="Item">
                <strong>{{ entry.menu_item.name }}</strong>
                <small class="cart-table__muted">{{ entry.menu_item.category.name }}</small>
            </span>
            
            {# Item base price #}
            <span class="cart-table__cell" role="cell" data-label="Price">₱{{ entry.menu_item.base_price|floatformat:2 }}</span>
            
            {# Quantity #}
            <span class="cart-table__cell" role="cell" data-label="Quantity">{{ entry.quantity }}</span>
            
            {# Line total (price × quantity) #}
            <span class="cart-table__cell" role="cell" data-label="Total">₱{{ entry.line_total|floatformat:2 }}</span>
            
            {# Action buttons (disabled in preview mode) #}
            <span class="cart-table__cell cart-table__actions" role="cell" data-label="Actions">
                <button type="button" class="btn btn-small" disabled>Update</button>
                <button type="button" class="btn btn-link" disabled>Remove</button>
            </span>
        </div>
        {% endfor %}
    </div>
</section>

{# ========================================
    ORDER SUMMARY
    Display totals breakdown
======================================== #}
<section class="dashboard-section cart-summary" aria-labelledby="cart-summary">
    <h2 id="cart-summary" class="dashboard-section__title">Order summary</h2>
    
    {# Totals breakdown #}
    <dl class="cart-summary__list">
        
        {# Subtotal (before tax) #}
        <div class="cart-summary__row">
            <dt>Subtotal</dt>
            <dd>₱{{ subtotal|floatformat:2 }}</dd>
        </div>
        
        {# Tax (8% of subtotal) #}
        <div class="cart-summary__row">
            <dt>Tax (8%)</dt>
            <dd>₱{{ tax|floatformat:2 }}</dd>
        </div>
        
        {# Total (subtotal + tax) #}
        <div class="cart-summary__row cart-summary__total">
            <dt>Total</dt>
            <dd>₱{{ total|floatformat:2 }}</dd>
        </div>
    </dl>
    
    {# Checkout button (disabled - coming soon) #}
    <a href="{% url 'orders:checkout' %}" class="btn cart-summary__cta btn-disabled" aria-disabled="true">Checkout coming soon</a>
</section>

{# ========================================
    EMPTY STATE
    Show if cart is empty
======================================== #}
{% else %}
<div class="dashboard-empty">
    <p>Your cart is currently empty.</p>
    <a href="{% url 'menu:catalog' %}" class="btn">Browse the menu</a>
</div>
{% endif %}

{% endblock %}