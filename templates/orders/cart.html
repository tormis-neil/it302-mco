{% extends "base.html" %}

{% block title %}Your Cart - Brews &amp; Chews{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block main_class %}dashboard-main{% endblock %}

{% block content %}
<section class="dashboard-hero">
    <div>
        <p class="dashboard-eyebrow">Cart Overview</p>
        <h1 class="dashboard-title">Review your selections</h1>
        <p class="dashboard-subtitle">This interactive cart is in preview mode. Controls are disabled while we wire up live ordering.</p>
    </div>
    <a href="{% url 'menu:catalog' %}" class="btn dashboard-cta">Back to menu</a>
</section>

{% if sample_items %}
<section class="dashboard-section cart-section" aria-labelledby="cart-items">
    <h2 id="cart-items" class="dashboard-section__title">Items in your cart</h2>
    <p class="cart-preview-note">Quantities and controls are illustrative only.</p>
    <div class="cart-table" role="table">
        <div class="cart-table__header" role="row">
            <span class="cart-table__cell" role="columnheader">Item</span>
            <span class="cart-table__cell" role="columnheader">Price</span>
            <span class="cart-table__cell" role="columnheader">Quantity</span>
            <span class="cart-table__cell" role="columnheader">Line Total</span>
            <span class="cart-table__cell" role="columnheader">Actions</span>
        </div>
        {% for entry in sample_items %}
        <div class="cart-table__row" role="row">
            <span class="cart-table__cell cart-table__item" role="cell" data-label="Item">
                <strong>{{ entry.menu_item.name }}</strong>
                <small class="cart-table__muted">{{ entry.menu_item.category.name }}</small>
            </span>
            <span class="cart-table__cell" role="cell" data-label="Price">₱{{ entry.menu_item.base_price|floatformat:2 }}</span>
            <span class="cart-table__cell" role="cell" data-label="Quantity">{{ entry.quantity }}</span>
            <span class="cart-table__cell" role="cell" data-label="Total">₱{{ entry.line_total|floatformat:2 }}</span>
            <span class="cart-table__cell cart-table__actions" role="cell" data-label="Actions">
                <button type="button" class="btn btn-small" disabled>Update</button>
                <button type="button" class="btn btn-link" disabled>Remove</button>
            </span>
        </div>
        {% endfor %}
    </div>
</section>

<section class="dashboard-section cart-summary" aria-labelledby="cart-summary">
    <h2 id="cart-summary" class="dashboard-section__title">Order summary</h2>
    <dl class="cart-summary__list">
        <div class="cart-summary__row">
            <dt>Subtotal</dt>
            <dd>₱{{ subtotal|floatformat:2 }}</dd>
        </div>
        <div class="cart-summary__row">
            <dt>Tax (8%)</dt>
            <dd>₱{{ tax|floatformat:2 }}</dd>
        </div>
        <div class="cart-summary__row cart-summary__total">
            <dt>Total</dt>
            <dd>₱{{ total|floatformat:2 }}</dd>
        </div>
    </dl>
    <a href="{% url 'orders:checkout' %}" class="btn cart-summary__cta btn-disabled" aria-disabled="true">Checkout coming soon</a>
</section>
{% else %}
<div class="dashboard-empty">
    <p>Your cart is currently empty.</p>
    <a href="{% url 'menu:catalog' %}" class="btn">Browse the menu</a>
</div>
{% endif %}
{% endblock %}